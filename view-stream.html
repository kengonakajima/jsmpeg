<!DOCTYPE html>
<html>
<head>
	<title>JSMpeg Stream Client</title>
	<style type="text/css">
		html, body {
			background-color: #111;
			text-align: center;
		}
	</style>
	
</head>
<body>
  <canvas id="video-canvas"></canvas>
  <button id="debugbtn" onclick="debugPressed();">debug</button>
  <script type="text/javascript" src="hoge.js"></script>
	<script type="text/javascript" src="audioplayer.js"></script>  
	<script type="text/javascript">
		var canvas = document.getElementById('video-canvas');
		var url = 'ws://'+document.location.hostname+':8082/';
	  var mpegplayer = new JSMpeg.Player(url, {canvas: canvas });
      console.log("mpegplayer:",mpegplayer);
      startAudioPlayer("ws://"+document.location.hostname+':8084/');

      document.addEventListener( "keydown", function(e) {
          notifyEventAudioPlayer(e);         
      });
      document.addEventListener( "keyup", function(e) {
          notifyEventAudioPlayer(e);         
      });
      canvas.addEventListener( "click", function(e) {
          notifyEventAudioPlayer(e);          
      });
      canvas.addEventListener( "mousemove", function(e) {
          notifyEventAudioPlayer(e);          
      });
      canvas.addEventListener( "mouseup", function(e) {
          notifyEventAudioPlayer(e);          
      });
      canvas.addEventListener( "mousedown", function(e) {
          notifyEventAudioPlayer(e);
      });
	</script>
    
</body>
</html>
