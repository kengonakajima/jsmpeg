<!DOCTYPE html>
<html>
<head>
	<title>JSMpeg Stream Client</title>
	<style type="text/css">
		html, body {
			background-color: #111;
			text-align: center;
		}
	</style>
	
</head>
<body>
  <canvas id="video-canvas"></canvas>
  <BR>
  <table>
    <tr><td>
  <button id="btn_w" onmouseup="btnUp('w')" onmousedown="btnDown('w')">W</button>
<BR>
  <button id="btn_a" onmouseup="btnUp('a')" onmousedown="btnDown('a')">A</button>
  <button id="btn_s" onmouseup="btnUp('s')" onmousedown="btnDown('s')">S</button>
  <button id="btn_d" onmouseup="btnUp('d')" onmousedown="btnDown('d')">D</button>
      </td>
      <td width=30></td>
      <td>
        <button id="btn_up" onmouseup="btnUp('Up')" onmousedown="btnDown('Up')">Up</button>
        <BR>
        <button id="btn_left" onmouseup="btnUp('Left')" onmousedown="btnDown('Left')">Left</button>
        <button id="btn_down" onmouseup="btnUp('Down')" onmousedown="btnDown('Down')">Down</button>
        <button id="btn_right" onmouseup="btnUp('Right')" onmousedown="btnDown('Right')">Right</button>


      </td>
      <td width=50></td>
      <td>
        <span id="status" style="color:#fff; font-size:4px;">status</span>
      </td>
    </tr>
  </table>
  
  
  <script type="text/javascript" src="hoge.js"></script>
	<script type="text/javascript" src="audioplayer.js"></script>  
	<script type="text/javascript">
		var canvas = document.getElementById('video-canvas');
		var url = 'ws://'+document.location.hostname+':8082/';
	  var mpegplayer = new JSMpeg.Player(url, {canvas: canvas });
      console.log("mpegplayer:",mpegplayer);
      startAudioPlayer("ws://"+document.location.hostname+':8084/');

      document.addEventListener( "keydown", function(e) {
          notifyEventAudioPlayer(e);         
      });
      document.addEventListener( "keyup", function(e) {
          notifyEventAudioPlayer(e);         
      });
      canvas.addEventListener( "click", function(e) {
          notifyEventAudioPlayer(e);          
      });
      canvas.addEventListener( "mousemove", function(e) {
          notifyEventAudioPlayer(e);          
      });
      canvas.addEventListener( "mouseup", function(e) {
          notifyEventAudioPlayer(e);          
      });
      canvas.addEventListener( "mousedown", function(e) {
          notifyEventAudioPlayer(e);
      });
	</script>
    
</body>
</html>
